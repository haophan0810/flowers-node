extends includes/layout.pug

mixin address(item)
  
  .row.border.rounded.py-3
    .col-12
      .d-flex.justify-content-between
        .h5 #{item.fullName}
        span.text-success(class= item.isActive? '': 'd-none') Default
      .phone Phone: #{item.phoneNumber}
      .address Address: #{`${item.address}, ${item.street} street, ${item.distric} distric, ${item.city} city`}
      .row
        if item.isActive
          .btn.light-green.darken-2.disabled.addressActive
            |Address is Actived
        else
            form(method='POST', action='/cart/active-address')
              input(type='hidden', value=item.id, name='idAddress')
              button.btn.grey.chooseAddress(type='submit') Choose Address
        form(method='POST', action='/cart/delete-address')
          input(type='hidden', value=item.id, name='idDeleteAddress')

          button.btn.deep-orange.darken-4.chooseAddress(type='submit') Delete

mixin productCart(item)
  li.list-group-item.d-flex.justify-content-between.lh-condensed
    div
      h6.my-0 Product name
      small.text-muted Brief description
    div so luong
    span.text-muted $12
block head
  link(rel='stylesheet', href='css/cart.css')

block nav
  main.mt-5.pt-4
    
    .container.wow.fadeIn
      // Heading
      h2.my-5.h2.text-center Checkout form
      // Grid row
      .row
        // Grid column
        .col-md-7.mb-4
          h4.d-flex.justify-content-between.align-items-center.mb-3
            span.text-muted Infomation User
            
          // Card
          .card
            // Card content
            .card-body
              #dataAddress
                - const lengthAddress = dataAddress.length
                if dataAddress.length> 0
                  - for (let i = 0; i<lengthAddress; i++){
                    +address(dataAddress[i])
                  - }
                  #divShowAddAddress.text-primary.mt-3.mb-5.divShowAddAddress Click here to add new Address
              
              form#addAddress(class = lengthAddress ===0 ? '' : 'd-none', method='POST', action='/cart/add-address')
                .h5 Add new address
                .row            
                  // Grid column
                  .col-md-6.mb-2
                    // fullName
                    .md-form
                      input#fullName.form-control(type='text', name='fullName')
                      label(for='fullName') Full Name

                  .col-md-6.mb-2
                    // phoneNumber
                    .md-form
                      input#phoneNumber.form-control(type='text', name='phoneNumber')
                      label(for='phoneNumber') Phone
                .row
                  .col-md-6.mb2
                    // address
                    .md-form
                      input#address.form-control(type='text', name='address')
                      label(for='address') Address
                  .col-md-6.mb2
                    //street
                    .md-form
                      input#street.form-control(type='text', name='street')
                      label(for='street') Street
                .row
                  .col-md-6.mb2
                    // distric
                    .md-form
                      input#distric.form-control(type='text', name='distric')
                      label(for='distric') Distric
                  .col-md-6.mb2
                    //city
                    .md-form
                      input#city.form-control(type='text', name='city')
                      label(for='city') City 
                .row
                  .col-md-6.mb2
                    // kind address
                    label(for='kindAddress', style="color:#757575") Kind Address                      
                    
                    select#kindAddress.custom-select.d-block.w-100(required='', name='kindAddress')
                      option(value='') Choose...
                      option(value='personal') Personal
                      option(value='home') Home
                      option(value='company') Company
                      option(value='other') Other

                  .col-md-6.mb2.d-flex.justify-content-end             
                    
                    button.btn.bgBtnMain.mt-4(type='submit') Add Address

              //- .md-form.input-group.pl-0.mb-5
              //-   .input-group-prepend
              //-     span#basic-addon1.input-group-text @
              //-   input.form-control.py-0(type='text', placeholder='Username', aria-describedby='basic-addon1')
              //- // email
              //- .md-form.mb-5
              //-   input#email.form-control(type='text', placeholder='youremail@example.com')
              //-   label(for='email') Email (optional)
              //- // address
              //- .md-form.mb-5
              //-   input#address.form-control(type='text', placeholder='1234 Main St')
              //-   label(for='address') Address
              //- // address-2
              //- .md-form.mb-5
              //-   input#address-2.form-control(type='text', placeholder='Apartment or suite')
              //-   label(for='address-2') Address 2 (optional)
              //- // Grid row
              //- .row
              //-   // Grid column
              //-   .col-lg-4.col-md-12.mb-4
              //-     label(for='country') Country
              //-     select#country.custom-select.d-block.w-100(required='')
              //-       option(value='') Choose...
              //-       option United States
              //-     .invalid-feedback
              //-       | Please select a valid country.
              //-   // Grid column
              //-   // Grid column
              //-   .col-lg-4.col-md-6.mb-4
              //-     label(for='state') State
              //-     select#state.custom-select.d-block.w-100(required='')
              //-       option(value='') Choose...
              //-       option California
              //-     .invalid-feedback
              //-       | Please provide a valid state.
              //-   // Grid column
              //-   // Grid column
              //-   .col-lg-4.col-md-6.mb-4
              //-     label(for='zip') Zip
              //-     input#zip.form-control(type='text', placeholder='', required='')
              //-     .invalid-feedback
              //-       | Zip code required.
              //-   // Grid column
              //- // Grid row
              //- hr
              //- .custom-control.custom-checkbox
              //-   input#same-address.custom-control-input(type='checkbox')
              //-   label.custom-control-label(for='same-address') Shipping address is the same as my billing address
              //- .custom-control.custom-checkbox
              //-   input#save-info.custom-control-input(type='checkbox')
              //-   label.custom-control-label(for='save-info') Save this information for next time
              //- hr
              //- .d-block.my-3
              //-   .custom-control.custom-radio
              //-     input#credit.custom-control-input(name='paymentMethod', type='radio', checked='', required='')
              //-     label.custom-control-label(for='credit') Credit card
              //-   .custom-control.custom-radio
              //-     input#debit.custom-control-input(name='paymentMethod', type='radio', required='')
              //-     label.custom-control-label(for='debit') Debit card
              //-   .custom-control.custom-radio
              //-     input#paypal.custom-control-input(name='paymentMethod', type='radio', required='')
              //-     label.custom-control-label(for='paypal') Paypal
              //- .row
              //-   .col-md-6.mb-3
              //-     label(for='cc-name') Name on card
              //-     input#cc-name.form-control(type='text', placeholder='', required='')
              //-     small.text-muted Full name as displayed on card
              //-     .invalid-feedback
              //-       | Name on card is required
              //-   .col-md-6.mb-3
              //-     label(for='cc-number') Credit card number
              //-     input#cc-number.form-control(type='text', placeholder='', required='')
              //-     .invalid-feedback
              //-       | Credit card number is required
              //- .row
              //-   .col-md-3.mb-3
              //-     label(for='cc-expiration') Expiration
              //-     input#cc-expiration.form-control(type='text', placeholder='', required='')
              //-     .invalid-feedback
              //-       | Expiration date required
              //-   .col-md-3.mb-3
              //-     label(for='cc-expiration') CVV
              //-     input#cc-cvv.form-control(type='text', placeholder='', required='')
              //-     .invalid-feedback
              //-       | Security code required
              
          // /.Card
        // Grid column
        // Grid column
        form.col-md-5.mb-4
          // Heading
          h4.d-flex.justify-content-between.align-items-center.mb-3
            span.text-muted Your cart
            span.badge.badge-secondary.badge-pill 3
          // Cart
          ul.list-group.mb-3.z-depth-1
            li.list-group-item.d-flex.justify-content-between.lh-condensed
              div
                h6.my-0 Product name
                small.text-muted Brief description
              div.text-center
                h6.my-0 Quantity
                small 5
              div.text-right
                h6.my-0 12$
                small.line-throught 5
            li.list-group-item.d-flex.justify-content-between.lh-condensed
              div
                h6.my-0 Second product
                small.text-muted Brief description
              span.text-muted $8
            li.list-group-item.d-flex.justify-content-between.lh-condensed
              div
                h6.my-0 Third item
                small.text-muted Brief description
              span.text-muted $5
            li.list-group-item.d-flex.justify-content-between.bg-light
              .text-success
                h6.my-0 Promo code
                small EXAMPLECODE
              span.text-success -$5
            li.list-group-item.d-flex.justify-content-between
              span Total (USD)
              strong $20
            li.list-group-item.d-flex.justify-content-between
              button.btn.bgBtnMain.btn-lg.btn-block(type='submit') Order
          // Cart
          // Promo code
          //- form.card.p-2
          //-   .input-group
          //-     input.form-control(type='text', placeholder='Promo code', aria-label="Recipient's username", aria-describedby='basic-addon2')
          //-     .input-group-append
          //-       button.btn.btn-secondary.btn-md.waves-effect.m-0(type='button') Redeem

block footer
  script(type='text/javascript').
    const divOpenAddNewAddress = document.getElementById('divShowAddAddress');
    const formAddAddress = document.getElementById('addAddress');

    divOpenAddNewAddress.addEventListener('click', (e) => {
      formAddAddress.classList.remove('d-none');
      formAddAddress.classList.add('mt-5')
      divOpenAddNewAddress.classList.add('d-none');
    })
